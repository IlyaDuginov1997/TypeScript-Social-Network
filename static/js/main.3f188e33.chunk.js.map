{"version":3,"sources":["Components/Dialogs/DialogsItem/DialogsItem.module.css","Components/Header/Header.module.css","Components/Login/LoginForm.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Users/Users.module.css","Common/Paginator/Paginator.module.css","Components/Navbar/Navbar.module.css","Redux/messageReducer.ts","API/API.tsx","Redux/profileReducer.ts","Utils/ObjectHelpers/mapHelper.ts","Redux/usersReducer.ts","Redux/authReducer.ts","Redux/appReducer.ts","Redux/redux-store.ts","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","Common/FormControl/ValidatedForm.tsx","Utils/Validators/Validator.tsx","Components/Login/LoginForm.tsx","Components/Login/Login.tsx","Components/Dialogs/DialogsItem/DialogsItem.tsx","Components/Dialogs/MessageItem/MessageItem.tsx","Components/Dialogs/DialogsForm.tsx","Components/Dialogs/Dialogs.tsx","Components/WithAuthRedirectComponent/WithAuthRedirectComponent.tsx","Components/Dialogs/DialogsContainer.tsx","Components/Header/Header.tsx","Components/Header/HeaderContainer.tsx","Components/Profile/MyPosts/MyPostsForm.tsx","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPosts.tsx","Components/Profile/MyPosts/MyPostsContainer.tsx","Assets/Images/preloader.svg","Common/Preloader/Preloader.tsx","Components/Profile/ProfileInfo/ProfileStatus.tsx","Assets/Images/user.jpg","Assets/Images/camera.svg","Components/Profile/ProfileInfo/ProfileFormData/ProfileFormData.tsx","Common/Input/Input.tsx","Common/InputForm/InputForm.tsx","Validation/schema.ts","Components/Profile/ProfileInfo/ProfileForm/ProfileForm.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/Profile.tsx","Components/Profile/ProfileContainer.tsx","Common/Paginator/Paginator.tsx","Components/Users/Users.tsx","Redux/users-selectors.ts","Components/Users/UsersContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx","Components/Dialogs/Dialogs.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Common/FormControl/ValidatedForm.module.css"],"names":["module","exports","ADD_NEW_MESSAGE","initialState","dialogs","id","name","messages","message","instance","axios","create","withCredentials","headers","baseURL","usersAPI","currentPage","pageSize","get","then","response","data","authAPI","email","password","rememberMe","post","delete","followAPI","followUser","unfollowUser","profileAPI","userId","status","put","file","formData","FormData","append","ADD_NEW_POST","SET_USERS_PROFILE","SET_PROFILE_STATUS","DELETE_POST","CHANGE_PROFILE_PHOTO","posts","likesCount","profile","setProfileStatus","type","mapHelper","items","itemId","objPropsName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROCESS","users","totalUserCount","isFetching","toggleFollowingProcessArray","followSuccess","unfollowSuccess","setCurrentPage","setToggleIsFetching","setToggleFollowingInProcess","isFollowingInProcess","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","SET_USER_DATA","login","isAuth","setAuthUserData","authUserThunk","INITIALIZED_SUCCESS","isInitialized","reducer","combineReducers","profileComponent","state","action","newPost","filter","postId","photos","profilePhotos","dialogComponent","body","usersComponent","followed","totalCountUsers","auth","app","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Navbar","className","classes","navbar","item","to","activeClassName","active","News","Music","Settings","FormControl","input","meta","children","hasErrorTextarea","error","touched","formControl","Input","props","restProps","Textarea","requiredField","value","maxLengthCreator","maxValue","length","maxLength30","LoginReduxForm","reduxForm","handleSubmit","onSubmit","Field","component","validate","placeholder","globalFormError","connect","errorMessage","stopSubmit","_error","DialogsItem","path","dialogsItem","MessageItem","messageItem","DialogsReduxForm","Dialogs","dialogsState","d","messagesItem","m","dialogsPage","addMessage","mapStateToProps","DialogsContainer","compose","Component","RedirectComponent","this","React","Header","header","src","alt","loginBlock","Logout","logout","onClick","HeaderComponent","HeaderContainer","maxLength10","MyPostReduxForm","Post","MyPosts","postsItem","p","addPost","myPosts","MyPostsContainer","AddPostActionCreator","Preloader","preloader","ProfileStatus","editMode","profileStatus","onEditMode","isOwner","setState","offEditMode","updateProfileStatusThunk","onChangeStatus","e","currentTarget","prevProps","prevState","autoFocus","onBlur","onChange","onDoubleClick","ProfileFormData","editModeHandle","property","aboutMe","fullName","lookingForAJob","Object","keys","contacts","title","forwardRef","ref","label","console","log","aria-label","FormInput","register","rules","errors","aria-live","render","validationSchema","Yup","shape","firstName","required","min","ProfileForm","editModeOff","useForm","resolver","yupResolver","formState","ProfileInfo","updateProfilePhotoThunk","useState","setEditMode","profilePhoto","large","user","changePhotoBlock","changePhotoLabel","camera","accept","photoFile","target","files","Link","Profile","content","ProfileComponent","match","params","Number","history","push","getUserProfileThunk","getProfileStatusThunk","refreshProfile","snapshot","ProfileContainer","withRouter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","page","selected","Users","followUserThunk","unfollowUserThunk","avatar","small","disabled","some","getUsers","createSelector","getToggleFollowingProcessArray","progressFollowingArray","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","UsersComponent","fetchUsers","UsersContainer","totalCount","bind","App","appInitializing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3f188e33.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItem\":\"DialogsItem_dialogsItem__1t3dx\",\"active\":\"DialogsItem_active__1CT8a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3nyQM\",\"loginBlock\":\"Header_loginBlock__10irf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"globalFormError\":\"LoginForm_globalFormError__1zfpt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1iiB5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2qEqn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__2SGgL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Paginator_selected__1rCUU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3nQea\",\"item\":\"Navbar_item__1qPpV\",\"active\":\"Navbar_active__2vavL\"};","export type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessagesType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type DialogComponentType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n}\r\n\r\nconst ADD_NEW_MESSAGE = 'messages/ADD_NEW_MESSAGE';\r\nconst CHANGE_MESSAGE_EL = 'messages/CHANGE_MESSAGE_EL';\r\n\r\nexport type DispatchActionType = AddMessageType | ChangeMessageElType\r\n\r\nexport type AddMessageType = ReturnType<typeof addMessage>\r\n\r\nexport type ChangeMessageElType = {\r\n    type: typeof CHANGE_MESSAGE_EL\r\n    messageEl: string\r\n}\r\n\r\n\r\nlet initialState: DialogComponentType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Nastya'},\r\n        {id: 2, name: 'Gleb'},\r\n        {id: 3, name: 'Anton'},\r\n        {id: 4, name: 'Denis'},\r\n        {id: 5, name: 'Kostya'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hello, my name is Ilya'},\r\n        {id: 2, message: 'I am fine'},\r\n        {id: 3, message: 'Yo'},\r\n    ],\r\n};\r\n\r\nexport function dialogReducer(state = initialState, action: DispatchActionType): DialogComponentType {\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE: {\r\n            let body = action.message;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {\r\n                    id: 5,\r\n                    message: body,\r\n                }]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function addMessage(message: string) {\r\n    return {\r\n        type: ADD_NEW_MESSAGE,\r\n        message,\r\n    } as const;\r\n}","import axios from 'axios';\nimport { UserType } from 'src/Redux/usersReducer';\nimport { GetProfileType } from 'src/Components/Profile/ProfileContainer';\nimport { ProfilePhotoType } from 'src/Redux/profileReducer';\n\ntype getUserAPIType = {\n  error: null | string;\n  items: UserType[];\n  totalCount: number;\n};\n\ntype authDataType = {\n  id: number;\n  email: string;\n  login: string;\n};\n\ntype commonType<T = {}> = {\n  resultCode: number;\n  messages: string[];\n  fieldsErrors: string[];\n  data: T;\n};\n\nexport type loginDataType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha?: boolean;\n};\n\nconst instance = axios.create({\n  withCredentials: true,\n  headers: {\n    'API-KEY': '57c1b71f-e799-4641-88c4-164710395dd0',\n  },\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n});\n\nexport const usersAPI = {\n  getUsers(currentPage: number, pageSize: number) {\n    return instance\n      .get<getUserAPIType>(`users?page=${currentPage}&count=${pageSize}`)\n      .then(response => {\n        return response.data;\n      });\n  },\n};\n\nexport const authAPI = {\n  authUser() {\n    return instance.get<commonType<authDataType>>(`auth/me`).then(response => {\n      return response.data;\n    });\n  },\n  login(email: string, password: string, rememberMe: boolean) {\n    return instance\n      .post<commonType<{ userId: string }>>(`auth/login`, { email, password, rememberMe })\n      .then(response => {\n        return response.data;\n      });\n  },\n  logout() {\n    return instance.delete<commonType>(`auth/login`).then(response => {\n      return response.data;\n    });\n  },\n};\n\nexport const followAPI = {\n  followUser(id: number) {\n    return instance.post<commonType>(`follow/${id}`).then(response => {\n      return response.data;\n    });\n  },\n  unfollowUser(id: number) {\n    return instance.delete<commonType>(`follow/${id}`).then(response => {\n      return response.data;\n    });\n  },\n};\n\nexport const profileAPI = {\n  getUserProfile(userId: number | null) {\n    return instance.get<GetProfileType>(`profile/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n\n  getProfileStatus(userId: number | null) {\n    return instance.get<string>(`profile/status/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n\n  updateProfileStatus(status: string) {\n    return instance\n      .put<commonType>(`profile/status`, { status: status })\n      .then(response => {\n        return response.data;\n      });\n  },\n\n  updateProfilePhoto(file: File) {\n    const formData = new FormData();\n    formData.append('image', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    return instance\n      .put<commonType<{ photos: ProfilePhotoType }>>(`profile/photo`, formData, config)\n      .then(response => {\n        return response.data;\n      });\n  },\n};\n","import { GetProfileType } from 'src/Components/Profile/ProfileContainer';\nimport { profileAPI } from 'src/API/API';\nimport { Dispatch } from 'redux';\n\nexport type PostsType = {\n  id: number;\n  message: string;\n  likesCount: number;\n};\n\nexport type ProfileComponentType = {\n  posts: Array<PostsType>;\n  profile: GetProfileType | null;\n  // profile: any;\n  status: string;\n};\n\nexport type ProfilePhotoType = {\n  small: string;\n  large: string;\n};\n\nconst ADD_NEW_POST = 'profile/ADD_NEW_POST';\nconst CHANGE_POST_EL = 'profile/CHANGE_POST_EL';\nconst SET_USERS_PROFILE = 'profile/SET_USERS_PROFILE';\nconst SET_PROFILE_STATUS = 'profile/SET_PROFILE_STATUS';\nexport const DELETE_POST = 'profile/DELETE_POST';\nconst CHANGE_PROFILE_PHOTO = 'profile/CHANGE_PROFILE_PHOTO';\n\nexport type DispatchActionType =\n  | AddNewPostType\n  | ChangePostElType\n  | SetUsersProfileType\n  | SetProfileStatusType\n  | DeletePostType\n  | ChangeProfilePhotoType;\n\nexport type AddNewPostType = ReturnType<typeof AddPostActionCreator>;\n\nexport type ChangePostElType = {\n  type: typeof CHANGE_POST_EL;\n  postEl: string;\n};\n\nexport type SetUsersProfileType = {\n  type: typeof SET_USERS_PROFILE;\n  profile: GetProfileType;\n};\n\nexport type SetProfileStatusType = {\n  type: typeof SET_PROFILE_STATUS;\n  status: string;\n};\n\nexport type DeletePostType = {\n  type: typeof DELETE_POST;\n  postId: number;\n};\n\nexport type ChangeProfilePhotoType = {\n  type: typeof CHANGE_PROFILE_PHOTO;\n  profilePhotos: ProfilePhotoType;\n};\n\nlet initialState: ProfileComponentType = {\n  posts: [\n    { id: 1, message: 'Hello, my name is Ilya', likesCount: 34 },\n    { id: 2, message: 'Hey, it is my second post', likesCount: 12 },\n    { id: 3, message: 'Sorry for my english', likesCount: 105 },\n    { id: 4, message: 'I love your likes', likesCount: 65 },\n  ],\n  profile: null,\n  status: '',\n};\n\nexport function profileReducer(\n  state = initialState,\n  action: DispatchActionType,\n): ProfileComponentType {\n  switch (action.type) {\n    case ADD_NEW_POST:\n      let newPost = {\n        id: 5,\n        message: action.post,\n        likesCount: 17,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    case SET_USERS_PROFILE:\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    case SET_PROFILE_STATUS:\n      return {\n        ...state,\n        status: action.status,\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(post => post.id !== action.postId),\n      };\n    case CHANGE_PROFILE_PHOTO:\n      return {\n        ...state,\n        profile: state.profile !== null\n          ? { ...state.profile, photos: {...action.profilePhotos} }\n          : null,\n      };\n    default:\n      return state;\n  }\n}\n\nexport function AddPostActionCreator(post: string) {\n  return {\n    type: ADD_NEW_POST,\n    post,\n  } as const;\n}\n\nexport function setUsersProfile(profile: GetProfileType): SetUsersProfileType {\n  return {\n    type: SET_USERS_PROFILE,\n    profile,\n  };\n}\n\nexport function setProfileStatus(status: string): SetProfileStatusType {\n  return {\n    type: SET_PROFILE_STATUS,\n    status,\n  };\n}\n\nexport function deletePost(postId: number): DeletePostType {\n  return {\n    type: DELETE_POST,\n    postId,\n  };\n}\n\nexport function setUsersPhoto(profilePhotos: ProfilePhotoType): ChangeProfilePhotoType {\n  return {\n    type: CHANGE_PROFILE_PHOTO,\n    profilePhotos,\n  };\n}\n\nexport const getProfileStatusThunk = (userId: number | null) => {\n  return async (dispatch: Dispatch) => {\n    const data = await profileAPI.getProfileStatus(userId);\n    dispatch(setProfileStatus(data));\n  };\n};\n\nexport const updateProfileStatusThunk = (status: string) => {\n  return async (dispatch: Dispatch) => {\n    const data = await profileAPI.updateProfileStatus(status);\n\n    if (data.resultCode === 0) {\n      dispatch(setProfileStatus(status));\n    }\n  };\n};\n\nexport const getUserProfileThunk = (userId: number | null) => {\n  return async (dispatch: Dispatch) => {\n    const data = await profileAPI.getUserProfile(userId);\n    dispatch(setUsersProfile(data));\n  };\n};\n\nexport const updateProfilePhotoThunk = (file: File) => {\n  return async (dispatch: Dispatch) => {\n    const data = await profileAPI.updateProfilePhoto(file);\n\n    if (data.resultCode === 0) {\n      dispatch(setUsersPhoto(data.data.photos));\n    }\n  };\n};\n","export const mapHelper = (items: any[], itemId: number, objPropsName: string, newObjProps: Object) => {\r\n  return items.map(u => {\r\n    return u[objPropsName] === itemId\r\n      ? { ...u, ...newObjProps }\r\n      : u;\r\n  });\r\n};\r\n","import { followAPI, usersAPI } from 'src/API/API';\r\nimport { Dispatch } from 'redux';\r\nimport { mapHelper } from 'src/Utils/ObjectHelpers/mapHelper';\r\n\r\nexport type LocationType = {\r\n  id: number\r\n  country: string\r\n  cityName: string\r\n}\r\n\r\nexport type UserType = {\r\n  name: string\r\n  followed: boolean\r\n  id: number\r\n  photos: {\r\n    large: string | undefined\r\n    small: string | undefined\r\n  }\r\n  uniqueUrlName: string\r\n  status: string\r\n  location?: LocationType\r\n}\r\n\r\nexport type UsersComponentType = {\r\n  users: Array<UserType>\r\n}\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT_USERS = 'users/SET_TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROCESS = 'users/TOGGLE_FOLLOWING_IN_PROCESS';\r\n\r\nexport type FollowType = {\r\n  type: typeof FOLLOW\r\n  userId: number\r\n}\r\n\r\nexport type UnfollowType = {\r\n  type: typeof UNFOLLOW\r\n  userId: number\r\n}\r\n\r\nexport type SetUsersType = {\r\n  type: typeof SET_USERS\r\n  users: UserType[]\r\n}\r\n\r\nexport type SetCurrentPageType = {\r\n  type: typeof SET_CURRENT_PAGE\r\n  currentPage: number\r\n}\r\n\r\nexport type SetTotalCountUsersType = {\r\n  type: typeof SET_TOTAL_COUNT_USERS\r\n  totalCountUsers: number\r\n}\r\n\r\nexport type SetToggleIsFetchingType = {\r\n  type: typeof TOGGLE_IS_FETCHING\r\n  isFetching: boolean\r\n}\r\n\r\nexport type SetToggleFollowingInProcessType = {\r\n  type: typeof TOGGLE_FOLLOWING_IN_PROCESS,\r\n  isFollowingInProcess: boolean,\r\n  userId: number,\r\n}\r\n\r\nexport type initialStateType = {\r\n  users: UserType[]\r\n  pageSize: number\r\n  totalUserCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  toggleFollowingProcessArray: [] | number[]\r\n\r\n}\r\n\r\ntype DispatchActionType =\r\n  FollowType\r\n  | UnfollowType\r\n  | SetUsersType\r\n  | SetCurrentPageType\r\n  | SetTotalCountUsersType\r\n  | SetToggleIsFetchingType\r\n  | SetToggleFollowingInProcessType\r\n\r\nlet initialState: initialStateType = {\r\n  users: [],\r\n  pageSize: 100,\r\n  totalUserCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  toggleFollowingProcessArray: [],\r\n};\r\n\r\nexport function usersReducer(state = initialState, action: DispatchActionType): initialStateType {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: mapHelper(state.users, action.userId, 'id', { followed: true }),\r\n\r\n        // same code with helperFunction\r\n        // users: state.users.map(u => {\r\n        //   return u.id === action.userId\r\n        //     ? { ...u, followed: true }\r\n        //     : u;\r\n        // }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: mapHelper(state.users, action.userId, 'id', { followed: false }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state, users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state, currentPage: action.currentPage,\r\n      };\r\n    case SET_TOTAL_COUNT_USERS:\r\n      return {\r\n        ...state, totalUserCount: action.totalCountUsers,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state, isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_FOLLOWING_IN_PROCESS:\r\n      return {\r\n        ...state,\r\n        toggleFollowingProcessArray: action.isFollowingInProcess\r\n          ? [...state.toggleFollowingProcessArray, action.userId]\r\n          : state.toggleFollowingProcessArray.filter(id => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport function followSuccess(userId: number): FollowType {\r\n  return {\r\n    type: FOLLOW,\r\n    userId: userId,\r\n  };\r\n}\r\n\r\nexport function unfollowSuccess(userId: number): UnfollowType {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId: userId,\r\n  };\r\n}\r\n\r\nexport function setUsers(users: UserType[]): SetUsersType {\r\n  return {\r\n    type: SET_USERS,\r\n    users: users,\r\n  };\r\n}\r\n\r\nexport function setCurrentPage(currentPage: number): SetCurrentPageType {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n  };\r\n}\r\n\r\nexport function setTotalCountUsers(totalCountUsers: number): SetTotalCountUsersType {\r\n  return {\r\n    type: SET_TOTAL_COUNT_USERS,\r\n    totalCountUsers: totalCountUsers,\r\n  };\r\n}\r\n\r\nexport function setToggleIsFetching(isFetching: boolean): SetToggleIsFetchingType {\r\n  return {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching,\r\n  };\r\n}\r\n\r\nexport function setToggleFollowingInProcess(isFollowingInProcess: boolean, userId: number): SetToggleFollowingInProcessType {\r\n  return {\r\n    type: TOGGLE_FOLLOWING_IN_PROCESS,\r\n    isFollowingInProcess: isFollowingInProcess,\r\n    userId: userId,\r\n  };\r\n}\r\n\r\nexport const fetchUsers = (currentPage: number, pageSize: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setToggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setToggleIsFetching(false));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch: Dispatch,\r\n  userId: number,\r\n  apiMethod: (userId: number) => any,\r\n  actionCreator: (userId: number) => UnfollowType | FollowType,\r\n) => {\r\n\r\n  dispatch(setToggleFollowingInProcess(true, userId));\r\n  const data = await apiMethod(userId);\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(setToggleFollowingInProcess(false, userId));\r\n};\r\n\r\nexport const unfollowUserThunk = (userId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const apiMethod = followAPI.unfollowUser.bind(followAPI);\r\n    const actionCreator = unfollowSuccess;\r\n\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n  };\r\n};\r\n\r\n\r\nexport const followUserThunk = (userId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const apiMethod = followAPI.followUser.bind(followAPI);\r\n    const actionCreator = followSuccess;\r\n\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n  };\r\n};\r\n","import { authAPI } from 'src/API/API';\r\nimport { Dispatch } from 'redux';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nexport type DataType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\nexport type SetAuthUserDataType = {\r\n  type: typeof SET_USER_DATA\r\n  data: DataType\r\n}\r\n\r\n\r\ntype InitialStateType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\ntype DispatchActionType = SetAuthUserDataType\r\n\r\nlet initialState: InitialStateType = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nexport function authReducer(state = initialState, action: DispatchActionType): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport function setAuthUserData(id: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataType {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    data: {\r\n      id: id,\r\n      email: email,\r\n      login: login,\r\n      isAuth,\r\n    },\r\n    /*data: data,*/\r\n  };\r\n}\r\n\r\nexport const authUserThunk = (): any => {\r\n  return async (dispatch: Dispatch) => {\r\n    const response = await authAPI.authUser();\r\n\r\n    if (response.resultCode === 0) {\r\n      let { id, email, login } = response.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => {\r\n  // typing thunk\r\n  return async (dispatch: ThunkDispatch<any, any, any>) => {\r\n    const data = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(authUserThunk());\r\n    } else {\r\n      const errorMessage = data.messages.length > 0\r\n        ? data.messages[0]\r\n        : 'Some error';\r\n      dispatch(stopSubmit('login', { _error: errorMessage }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  // typing thunk\r\n  return async (dispatch: ThunkDispatch<any, any, any>) => {\r\n    const data = await authAPI.logout();\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  };\r\n};\r\n\r\n","import { Dispatch } from 'redux';\r\nimport { authUserThunk } from 'src/Redux/authReducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\r\n\r\nexport type InitializedSuccess = {\r\n  type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\n\r\ntype InitialStateType = {\r\n  isInitialized: boolean\r\n}\r\n\r\ntype DispatchActionType = InitializedSuccess\r\n\r\nlet initialState: InitialStateType = {\r\n  isInitialized: false,\r\n};\r\n\r\nexport function appReducer(state = initialState, action: DispatchActionType): InitialStateType {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isInitialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst appInitializedAC = (): InitializedSuccess => {\r\n  return {\r\n    type: INITIALIZED_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const appInitializing = () => {\r\n  return (dispatch: Dispatch) => {\r\n    const dispatchResult = dispatch(authUserThunk());\r\n    dispatchResult.then(() => dispatch(appInitializedAC()));\r\n  };\r\n};\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {dialogReducer} from './messageReducer';\r\nimport {profileReducer} from './profileReducer';\r\nimport {usersReducer} from './usersReducer';\r\nimport {authReducer} from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./appReducer\";\r\n\r\nlet reducer = combineReducers({\r\n  profileComponent: profileReducer,\r\n  dialogComponent: dialogReducer,\r\n  usersComponent: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer,\r\n})\r\n\r\nexport type RootReduxState = ReturnType<typeof reducer>\r\n\r\nexport let store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\n\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\n\r\nfunction Navbar() {\r\n    return (\r\n        <nav className={classes.navbar}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={classes.active}>Dialogs</NavLink>\r\n            </div>\r\n\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n            </div>\r\n\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nfunction News() {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport {WrappedFieldProps} from 'redux-form';\r\nimport classes from './ValidatedForm.module.css';\r\n\r\nexport type DefaultFormControlType = WrappedFieldProps & {\r\n    children: React.ReactNode\r\n}\r\n\r\nexport const FormControl = ({input, meta, children, ...props}: DefaultFormControlType) => {\r\n    const hasErrorTextarea = meta.error && meta.touched\r\n    return (\r\n        <div className={`${classes.formControl} ${hasErrorTextarea ? classes.error :''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasErrorTextarea && <span>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Input = (props: DefaultFormControlType) => {\r\n    const {input, meta, children, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport const Textarea = (props: DefaultFormControlType) => {\r\n    const {input, meta, children, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n    );\r\n};","export const requiredField = (value: string) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxValue: number) => {\r\n    return (value: string) => {\r\n        if (value.length && value.length > maxValue) return `Max length is ${maxValue} symbols`;\r\n        return undefined;\r\n    };\r\n};","import { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport React from 'react';\r\nimport { Input } from 'src/Common/FormControl/ValidatedForm';\r\nimport { maxLengthCreator, requiredField } from 'src/Utils/Validators/Validator';\r\nimport classes from 'src/Components/Login/LoginForm.module.css';\r\n\r\nexport type FormDataLoginType = {\r\n  login: string\r\n  password: string\r\n  rememberMe: boolean\r\n}\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataLoginType>> = ({ handleSubmit, error }) => {\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div><Field component={Input} validate={[requiredField, maxLength30]} name={'login'}\r\n                    placeholder={'login'} /></div>\r\n        <div><Field component={Input} validate={[requiredField, maxLength30]} name={'password'} type={'password'}\r\n                    placeholder={'password'} /></div>\r\n        <div><Field component={Input} name={'rememberMe'} type={'checkbox'} />remember me</div>\r\n        <div>\r\n          {error && <span className={classes.globalFormError}>\r\n                        {error}\r\n                    </span>}\r\n        </div>\r\n        <div>\r\n          <button> Login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const LoginReduxForm = reduxForm<FormDataLoginType>({ form: 'login' })(LoginForm);\r\n","import React from 'react';\r\nimport { FormDataLoginType, LoginReduxForm } from 'src/Components/Login/LoginForm';\r\nimport { connect } from 'react-redux';\r\nimport { login } from 'src/Redux/authReducer';\r\nimport { RootReduxState } from 'src/Redux/redux-store';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport type LoginPropsType = {\r\n  login: (\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n  ) => void\r\n  isAuth: boolean\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\nexport function Login(props: LoginPropsType) {\r\n  const onSubmit = (formData: FormDataLoginType) => {\r\n    const { login, password, rememberMe = false } = formData;\r\n    props.login(login, password, rememberMe);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <h1>\r\n          login\r\n        </h1>\r\n      </div>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './DialogsItem.module.css';\r\nimport {DialogsType} from '../../../Redux/messageReducer';\r\n\r\n\r\nfunction DialogsItem(props: DialogsType) {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n        <div className={classes.dialogsItem}>\r\n            <NavLink to={path} activeClassName={classes.active}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\nimport classes from './MessageItem.module.css';\r\n\r\ntype MessageItemPropsType = {\r\n    message: string\r\n}\r\n\r\nfunction MessageItem(props: MessageItemPropsType) {\r\n    return (\r\n        <div className={classes.messageItem}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItem;","import {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport React from 'react';\r\nimport {Textarea} from '../../Common/FormControl/ValidatedForm';\r\nimport {maxLengthCreator, requiredField} from '../../Utils/Validators/Validator';\r\n\r\nexport type FormDataDialogsType = {\r\n    message: string\r\n}\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nexport const DialogsForm: React.FC<InjectedFormProps<FormDataDialogsType>> = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field\r\n                        component={Textarea}\r\n                        validate={[requiredField, maxLength30]}\r\n                        name={'message'}\r\n                        placeholder={'Add message'}/>\r\n                </div>\r\n\r\n                <div>\r\n                    <button> Add message</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const DialogsReduxForm = reduxForm<FormDataDialogsType>({form: 'dialogs'})(DialogsForm);\r\n","import React from 'react';\r\nimport {DialogComponentType} from '../../Redux/messageReducer';\r\nimport classes from './Dialogs.module.css';\r\nimport DialogsItem from './DialogsItem/DialogsItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport {DialogsReduxForm, FormDataDialogsType} from './DialogsForm';\r\n\r\ntype DialogsType = {\r\n    dialogsState: DialogComponentType\r\n    addMessage: (message: string) => void\r\n}\r\n\r\nfunction Dialogs(props: DialogsType) {\r\n\r\n    let dialogs = props.dialogsState.dialogs;\r\n    let messages = props.dialogsState.messages;\r\n\r\n    let dialogsItem = dialogs.map(d => <DialogsItem key={d.id} id={d.id} name={d.name}/>);\r\n    let messagesItem = messages.map(m => <MessageItem key={m.id} message={m.message}/>);\r\n\r\n    const onSubmit = (formData: FormDataDialogsType) => {\r\n        props.addMessage(formData.message);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.dialogsPage}>\r\n            <div className={classes.dialogs}>\r\n                {dialogsItem}\r\n\r\n            </div>\r\n            <div className={classes.message}>\r\n                <DialogsReduxForm onSubmit={onSubmit}/>\r\n                {messagesItem}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import React, {ComponentType} from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {RootReduxState} from '../../Redux/redux-store';\r\nimport {connect} from 'react-redux';\r\n\r\nexport type mapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    class RedirectComponent extends React.Component<mapStateToPropsType> {\r\n        render() {\r\n            let {isAuth, ...restProps} = this.props\r\n            if (!isAuth) {\r\n                return <Redirect to={'/login'}/>\r\n            }\r\n            return <Component {...restProps as T}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}\r\n","import React from 'react';\r\nimport { addMessage, DialogComponentType } from 'src/Redux/messageReducer';\r\nimport Dialogs from 'src/Components/Dialogs/Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { RootReduxState } from 'src/Redux/redux-store';\r\nimport { withAuthRedirect } from 'src/Components/WithAuthRedirectComponent/WithAuthRedirectComponent';\r\nimport { compose } from 'redux';\r\n\r\n\r\ntype mapStateToPropsType = {\r\n  dialogsState: DialogComponentType\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\r\n  return {\r\n    dialogsState: state.dialogComponent,\r\n  };\r\n};\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { addMessage }),\r\n)(Dialogs);\r\n","import React from 'react';\r\nimport classes from 'src/Components/Header/Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport type HeaderPropsType = {\r\n  login: string | null\r\n  auth: boolean\r\n  logout: () => void\r\n}\r\n\r\ntype LogoutPropsType = {\r\n  login: string | null\r\n  logout: () => void\r\n}\r\n\r\nexport function Header(props: HeaderPropsType) {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img\r\n        src='https://cdn.logo.com/hotlink-ok/logo-social.png'\r\n        alt='logo' />\r\n      <span className={classes.loginBlock}>\r\n        {\r\n          props.auth\r\n            ? <Logout login={props.login} logout={props.logout} />\r\n            : <NavLink to={'/login'}> Login </NavLink>\r\n        }\r\n      </span>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction Logout(props: LogoutPropsType) {\r\n  return (\r\n    <div>\r\n      <span>{props.login}</span>\r\n      <button onClick={() => props.logout()}>Logout</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {Header} from 'src/Components/Header/Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from 'src/Redux/authReducer';\r\nimport {RootReduxState} from 'src/Redux/redux-store';\r\n\r\nexport type HeaderContainerType = {\r\n  login: string | null\r\n  auth: boolean\r\n  logout: () => void\r\n}\r\n\r\nexport type MapStateToPropsType = {\r\n  login: string | null\r\n  auth: boolean\r\n}\r\n\r\nclass HeaderComponent extends React.Component<HeaderContainerType, any> {\r\n\r\n  render() {\r\n    return <Header {...this.props}/>;\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n  return {\r\n    login: state.auth.login,\r\n    auth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\n\r\nexport const HeaderContainer = connect(mapStateToProps, {\r\n  logout\r\n})(HeaderComponent);\r\n\r\n","import {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport React from 'react';\r\nimport {maxLengthCreator, requiredField} from '../../../Utils/Validators/Validator';\r\nimport {Textarea} from '../../../Common/FormControl/ValidatedForm';\r\n\r\nexport type FormDataPostType = {\r\n    myPosts: string\r\n}\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\n\r\nexport const MyPostsForm: React.FC<InjectedFormProps<FormDataPostType>> = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field\r\n                        component={Textarea}\r\n                        name={'myPosts'}\r\n                        validate={[requiredField, maxLength10]}\r\n                        placeholder={'Enter your post'}/>\r\n                </div>\r\n                <div>\r\n                    <button> Add post</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const MyPostReduxForm = reduxForm<FormDataPostType>({form: 'posts'})(MyPostsForm);","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\ntype PostPropsType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nfunction Post(props: PostPropsType) {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img src='https://avatarko.ru/img/kartinka/2/Gubka_Bob.jpg' alt=''/>\r\n            {props.message}\r\n            <div>\r\n                <span>{props.likesCount} likes</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport {PostsType} from '../../../Redux/profileReducer';\r\nimport classes from './MyPosts.module.css';\r\nimport {FormDataPostType, MyPostReduxForm} from './MyPostsForm';\r\nimport Post from './Post/Post';\r\n\r\ntype MyPostsPropsType = {\r\n    posts: Array<PostsType>\r\n    addPost: (post: string) => void\r\n}\r\n\r\nfunction MyPosts(props: MyPostsPropsType) {\r\n    let postsItem = props.posts.map(p => <Post key={p.id}\r\n                                               message={p.message}\r\n                                               likesCount={p.likesCount}/>);\r\n\r\n    const onSubmit = (formData: FormDataPostType) => {\r\n        props.addPost(formData.myPosts);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            My posts\r\n            <MyPostReduxForm\r\n                onSubmit={onSubmit}/>\r\n            {/*<div>*/}\r\n            {/*    <textarea value={props.newPostText} ref={newPostEl} onChange={addPostEl}></textarea>*/}\r\n            {/*    <div>*/}\r\n            {/*        <button onClick={onAddPost}>Add post</button>*/}\r\n            {/*    </div>*/}\r\n            {/*</div>*/}\r\n            <div className={classes.posts}>\r\n                {postsItem}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPosts;\r\n","import { AddPostActionCreator, PostsType } from 'src/Redux/profileReducer';\r\nimport MyPosts from 'src/Components/Profile/MyPosts/MyPosts';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { RootReduxState } from 'src/Redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n  posts: Array<PostsType>\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n  addPost: (post: string) => void\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\r\n  return {\r\n    posts: state.profileComponent.posts,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\r\n  return {\r\n    addPost: (post: string) => {\r\n      dispatch(AddPostActionCreator(post));\r\n    },\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/preloader.7aee2325.svg\";","import React from 'react';\r\nimport preloader from 'src/Assets/Images/preloader.svg';\r\n\r\nexport function Preloader() {\r\n  return (\r\n    <img src={preloader} alt={'sorry, we have some troubles'}/>\r\n  )\r\n}\r\n","import React, { ChangeEvent } from 'react';\n\nexport type ProfileStatusPropsType = {\n  profileStatus: string;\n  updateProfileStatusThunk: (status: string) => void;\n  isOwner: boolean;\n};\n\nexport type stateType = {\n  editMode: boolean;\n  status: string;\n};\n\nexport class ProfileStatus extends React.Component<ProfileStatusPropsType> {\n  state = {\n    editMode: false,\n    status: this.props.profileStatus,\n  };\n\n  onEditMode = () => {\n    if (this.props.isOwner) {\n      this.setState({\n        editMode: true,\n      });\n    }\n  };\n\n  offEditMode = () => {\n    this.setState({\n      editMode: false,\n    });\n    this.props.updateProfileStatusThunk(this.state.status);\n  };\n\n  onChangeStatus = (e: ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      status: e.currentTarget.value,\n    });\n  };\n\n  componentDidUpdate(prevProps: ProfileStatusPropsType, prevState: stateType) {\n    if (prevProps.profileStatus !== this.props.profileStatus) {\n      this.setState({\n        status: this.props.profileStatus,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.editMode ? (\n          <div>\n            <span onDoubleClick={this.onEditMode}>\n              {this.props.profileStatus || '-----'}\n            </span>\n          </div>\n        ) : (\n          <div>\n            <input\n              autoFocus={true}\n              onBlur={this.offEditMode}\n              type=\"text\"\n              onChange={this.onChangeStatus}\n              value={this.state.status}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/camera.4cfec1f9.svg\";","import { ContactsType } from 'src/Components/Profile/ProfileContainer';\nimport React from 'react';\nimport { Link } from 'src/Components/Profile/ProfileInfo/ProfileInfo';\nimport { ProfileFormDataPropsType } from 'src/Components/Profile/ProfileInfo/ProfileFormData/types';\n\nexport const ProfileFormData: React.FC<ProfileFormDataPropsType> = ({\n  profile,\n  editModeHandle,\n  isOwner,\n}) => {\n  return (\n    <div>\n      { isOwner && <button onClick={editModeHandle}>Change profile</button>}\n      <Link property={'about me'} value={profile.aboutMe} />\n      <Link property={'fullName'} value={profile.fullName} />\n      <Link\n        property={'looking for a job'}\n        value={profile.lookingForAJob ? 'Yes' : 'No'}\n      />\n      <div>\n        {Object.keys(profile.contacts).map(title => {\n          return (\n            <Link\n              key={title}\n              property={title}\n              value={profile.contacts[title as keyof ContactsType]}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","import React, { forwardRef } from 'react';\nimport { InputProps } from 'src/Common/Input/types';\n\n// @ts-ignore\nexport const Input: React.FC<InputProps> = forwardRef<HTMLInputElement, InputProps>(\n  ({ id, name, label, type = 'text', className = '', placeholder, ...props }, ref) => {\n\n    console.log('id', id);\n    console.log('name', name);\n    console.log('label', label);\n    console.log('type', type);\n    console.log('other props', { ...props });\n\n    return (\n      <input\n        id={id}\n        ref={ref}\n        name={name}\n        type={type}\n        aria-label={label}\n        placeholder={placeholder}\n        // className={'some'}\n        {...props}\n      />\n    );\n  },\n);\n","import get from 'lodash.get';\nimport { Input } from 'src/Common/Input/Input';\nimport { ErrorMessage } from '@hookform/error-message';\nimport React from 'react';\nimport { FormInputProps } from 'src/Common/InputForm/types';\n\nexport const FormInput = <TFormValues extends Record<string, unknown>>({\n  className,\n  name,\n  register,\n  rules,\n  errors,\n  ...props\n}: FormInputProps<TFormValues>): JSX.Element => {\n  const errorMessages = get(errors, name);\n  const hasError = !!(errors && errorMessages);\n\n  return (\n    <div className={className} aria-live=\"polite\">\n      <Input name={name} {...props} {...(register && register(name, rules))} />\n      <ErrorMessage\n        errors={errors}\n        name={name as any}\n        render={({ message }) => <p>{message}</p>}\n      />\n    </div>\n  );\n};\n","import * as Yup from 'yup';\n\nexport const validationSchema = Yup.object().shape({\n  firstName: Yup.string()\n    .required('First Name is required')\n    .min(6, 'First Name must be at least 6 characters'),\n  // username: Yup.string()\n  //   .required('Username is required')\n  //   .min(6, 'Username must be at least 6 characters')\n  //   .max(20, 'Username must not exceed 20 characters'),\n  // email: Yup.string()\n  //   .required('Email is required')\n  //   .email('Email is invalid'),\n  // password: Yup.string()\n  //   .required('Password is required')\n  //   .min(6, 'Password must be at least 6 characters')\n  //   .max(40, 'Password must not exceed 40 characters'),\n  // confirmPassword: Yup.string()\n  //   .required('Confirm Password is required')\n  //   .oneOf([Yup.ref('password'), null], 'Confirm Password does not match'),\n  // acceptTerms: Yup.bool().oneOf([true], 'Accept Terms is required')\n});","import React, { FC } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FormInput } from 'src/Common/InputForm/InputForm';\nimport { validationSchema } from 'src/Validation/schema';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { ProfileFormPropsType } from 'src/Components/Profile/ProfileInfo/ProfileForm/types';\n\nexport type RegistrationFormFields = {\n  firstName: string;\n};\n\nexport const ProfileForm: FC<ProfileFormPropsType> = ({\n  profile,\n  isOwner,\n  editModeOff,\n}) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<RegistrationFormFields>({\n    resolver: yupResolver(validationSchema),\n  });\n\n  const onSubmit = handleSubmit(data => {\n    console.log('submitting...');\n    console.log('data', data);\n    editModeOff();\n  });\n\n  return (\n    <form onSubmit={onSubmit}>\n      <FormInput<RegistrationFormFields>\n        id='firstName'\n        type='text'\n        name='firstName'\n        label='First Name'\n        placeholder='First Name'\n        className='mb-2'\n        register={register}\n        // rules={{ required: 'You must enter your first name.' }}\n        errors={errors}\n      />\n      <button className='some' type='submit'>\n        Submit\n      </button>\n    </form>\n  );\n};\n","import React, { ChangeEvent, useState } from 'react';\nimport { GetProfileType } from 'src/Components/Profile/ProfileContainer';\nimport { Preloader } from 'src/Common/Preloader/Preloader';\nimport classes from 'src/Components/Profile/ProfileInfo/ProfileInfo.module.css';\nimport { ProfileStatus } from 'src/Components/Profile/ProfileInfo/ProfileStatus';\nimport user from 'src/Assets/Images/user.jpg';\nimport camera from 'src/Assets/Images/camera.svg';\nimport { ProfileFormData } from 'src/Components/Profile/ProfileInfo/ProfileFormData/ProfileFormData';\nimport { ProfileForm } from 'src/Components/Profile/ProfileInfo/ProfileForm/ProfileForm';\n\nexport type ProfileInfoPropsType = {\n  profile: GetProfileType | null;\n  profileStatus: string;\n  updateProfileStatusThunk: (status: string) => void;\n  updateProfilePhotoThunk: (file: File) => void;\n  isOwner: boolean;\n};\n\nexport const ProfileInfo: React.FC<ProfileInfoPropsType> = ({\n  profile,\n  profileStatus,\n  updateProfileStatusThunk,\n  updateProfilePhotoThunk,\n  isOwner,\n}) => {\n  const [editMode, setEditMode] = useState<boolean>(false);\n\n  const editModeOn = () => {\n    setEditMode(true);\n  };\n\n  const editModeOff = () => {\n    setEditMode(false);\n  };\n\n  if (!profile) {\n    return <Preloader />;\n  }\n\n  const profilePhotoChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const photoFile = e.target.files?.[0];\n\n    if (photoFile) {\n      updateProfilePhotoThunk(photoFile);\n    }\n  };\n\n  return (\n    <div>\n      <ProfileStatus\n        updateProfileStatusThunk={updateProfileStatusThunk}\n        profileStatus={profileStatus}\n        isOwner={isOwner}\n      />\n      <div>\n        <img\n          className={classes.profilePhoto}\n          src={profile?.photos.large ? profile.photos.large : user}\n          alt='Profile'\n        />\n        {isOwner && (\n          <div className={classes.changePhotoBlock}>\n            <label className={classes.changePhotoLabel}>\n              Change profile photo\n              <img src={camera} alt='' />\n              <input type='file' accept='image/*' onChange={profilePhotoChange} />\n            </label>\n          </div>\n        )}\n\n        {editMode ? (\n          <ProfileForm editModeOff={editModeOff} profile={profile} isOwner={isOwner} />\n        ) : (\n          <ProfileFormData\n            profile={profile}\n            editModeHandle={editModeOn}\n            isOwner={isOwner}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\ntype LinkPropsType = {\n  property: string;\n  value: string | null;\n};\n\nexport const Link: React.FC<LinkPropsType> = ({ property, value }) => {\n  return (\n    <div>\n      <b>{property}: </b> {value}\n    </div>\n  );\n};\n","import React from 'react';\nimport classes from 'src/Components/Profile/Profile.module.css';\nimport MyPostsContainer from 'src/Components/Profile/MyPosts/MyPostsContainer';\nimport { GetProfileType } from 'src/Components/Profile/ProfileContainer';\nimport { ProfileInfo } from 'src/Components/Profile/ProfileInfo/ProfileInfo';\n\nexport type ProfileType = {\n  profile: GetProfileType | null;\n  profileStatus: string;\n  updateProfileStatusThunk: (status: string) => void;\n  updateProfilePhotoThunk: (file: File) => void;\n  isOwner: boolean;\n};\n\nconst Profile: React.FC<ProfileType> = ({\n  profile,\n  profileStatus,\n  updateProfilePhotoThunk,\n  updateProfileStatusThunk,\n  isOwner,\n}) => {\n  return (\n    <div className={classes.content}>\n      <ProfileInfo\n        updateProfileStatusThunk={updateProfileStatusThunk}\n        updateProfilePhotoThunk={updateProfilePhotoThunk}\n        profileStatus={profileStatus}\n        profile={profile}\n        isOwner={isOwner}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  getProfileStatusThunk,\r\n  getUserProfileThunk,\r\n  updateProfilePhotoThunk,\r\n  updateProfileStatusThunk,\r\n} from 'src/Redux/profileReducer';\r\nimport {RootReduxState} from 'src/Redux/redux-store';\r\nimport Profile from 'src/Components/Profile/Profile';\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nexport type ContactsType = {\r\n  facebook: string;\r\n  website: null;\r\n  vk: string;\r\n  twitter: string;\r\n  instagram: string;\r\n  youtube: null;\r\n  github: string;\r\n  mainLink: null;\r\n}\r\n\r\nexport type GetProfileType = {\r\n  aboutMe: string;\r\n  contacts: ContactsType;\r\n  lookingForAJob: boolean;\r\n  lookingForAJobDescription: string;\r\n  fullName: string;\r\n  userId: number;\r\n  photos: {\r\n    small: string;\r\n    large: string;\r\n  };\r\n};\r\n\r\nexport type mapStateToPropsType = {\r\n  profile: GetProfileType | null;\r\n  profileStatus: string;\r\n  userId: number | null;\r\n};\r\n\r\nexport type PathParamsType = {\r\n  userId: string;\r\n};\r\n\r\ntype ProfileComponentType = {\r\n  userId: number | null;\r\n  profile: GetProfileType | null;\r\n  profileStatus: string;\r\n  getUserProfileThunk: (userId: number | null) => void;\r\n  getProfileStatusThunk: (userId: number | null) => void;\r\n  updateProfileStatusThunk: (status: string) => void;\r\n  updateProfilePhotoThunk: (file: File) => void;\r\n};\r\n\r\ntype ProfileComponentWithRouterPropsType = RouteComponentProps<PathParamsType> &\r\n  ProfileComponentType;\r\n\r\nclass ProfileComponent extends React.Component<ProfileComponentWithRouterPropsType> {\r\n  refreshProfile() {\r\n    let userId: number | null = this.props.match.params.userId\r\n      ? Number(this.props.match.params.userId)\r\n      : null;\r\n    if (!userId) {\r\n      userId = this.props.userId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.getUserProfileThunk(userId);\r\n    this.props.getProfileStatusThunk(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(\r\n    prevProps: Readonly<ProfileComponentWithRouterPropsType>,\r\n    prevState: Readonly<{}>,\r\n    snapshot?: any,\r\n  ) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // можно избавиться от слова props (типо деструктуризации)\r\n    /*const {profile, setUsersProfile} = this.props*/\r\n    return (\r\n      <Profile\r\n        profile={this.props.profile}\r\n        updateProfileStatusThunk={this.props.updateProfileStatusThunk}\r\n        updateProfilePhotoThunk={this.props.updateProfilePhotoThunk}\r\n        profileStatus={this.props.profileStatus}\r\n        isOwner={!this.props.match.params.userId}\r\n        /*{...this.props}*/\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\r\n  return {\r\n    profile: state.profileComponent.profile,\r\n    profileStatus: state.profileComponent.status,\r\n    userId: state.auth.id,\r\n  };\r\n};\r\nexport const ProfileContainer = compose<React.ComponentType>(\r\n  // withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    getUserProfileThunk,\r\n    getProfileStatusThunk,\r\n    updateProfileStatusThunk,\r\n    updateProfilePhotoThunk,\r\n  }),\r\n  withRouter,\r\n)(ProfileComponent);\r\n","import React, { useState } from 'react';\r\nimport classes from 'src/Common/Paginator/Paginator.module.css';\r\n\r\nexport type PaginatorPropsType = {\r\n  pageSize: number;\r\n  totalUserCount: number;\r\n  currentPage: number;\r\n  onPageChanged: (currentPage: number) => void;\r\n  portionSize: number;\r\n};\r\n\r\nexport const Paginator: React.FC<PaginatorPropsType> = ({\r\n  totalUserCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  const pagesCount = Math.ceil(totalUserCount / pageSize);\r\n  const pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n  return (\r\n    <div>\r\n      {portionNumber > 1 && (\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>\r\n      )}\r\n\r\n      {pages\r\n        .filter(page => {\r\n          return page >= leftPortionPageNumber && page <= rightPortionPageNumber;\r\n        })\r\n        .map((p, i) => {\r\n          const changePageHandle = () => {\r\n            onPageChanged(p);\r\n          };\r\n\r\n          return (\r\n            <span\r\n              key={i}\r\n              className={currentPage === p ? classes.selected : ''}\r\n              onClick={changePageHandle}\r\n            >\r\n              {' '}\r\n              {p}{' '}\r\n            </span>\r\n          );\r\n        })}\r\n\r\n      {portionNumber < portionCount && (\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { UserType } from 'src/Redux/usersReducer';\r\nimport classes from 'src/Components/Users/Users.module.css';\r\nimport user from 'src/Assets/Images/user.jpg';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Paginator } from 'src/Common/Paginator/Paginator';\r\n\r\nexport type UsersPropsType = {\r\n  users: Array<UserType>;\r\n  pageSize: number;\r\n  totalUserCount: number;\r\n  currentPage: number;\r\n  onPageChanged: (currentPage: number) => void;\r\n  toggleFollowingProcessArray: [] | number[];\r\n  unfollowUserThunk: (userId: number) => void;\r\n  followUserThunk: (userId: number) => void;\r\n};\r\n\r\nconst Users: React.FC<UsersPropsType> = ({\r\n  totalUserCount,\r\n  currentPage,\r\n  pageSize,\r\n  users,\r\n  toggleFollowingProcessArray,\r\n  followUserThunk,\r\n  unfollowUserThunk,\r\n  onPageChanged,\r\n}) => {\r\n  const portionSize = 10;\r\n\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        totalUserCount={totalUserCount}\r\n        currentPage={currentPage}\r\n        pageSize={pageSize}\r\n        onPageChanged={onPageChanged}\r\n        portionSize={portionSize}\r\n      />\r\n      {users.map(u => {\r\n        return (\r\n          <div key={u.id}>\r\n            <span>\r\n              <div>\r\n                <NavLink to={'/profile/' + u.id}>\r\n                  <img\r\n                    className={classes.avatar}\r\n                    src={u.photos.small ? u.photos.small : user}\r\n                    alt={'sorry, we have some troubles'}\r\n                  />\r\n                </NavLink>\r\n              </div>\r\n              <div>\r\n                {u.followed ? (\r\n                  <button\r\n                    disabled={toggleFollowingProcessArray.some(id => id === u.id)}\r\n                    onClick={() => unfollowUserThunk(u.id)}\r\n                  >\r\n                    {' '}\r\n                    Unfollow{' '}\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    disabled={toggleFollowingProcessArray.some(id => id === u.id)}\r\n                    onClick={() => followUserThunk(u.id)}\r\n                  >\r\n                    {' '}\r\n                    Follow{' '}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </span>\r\n            <span>\r\n              <span>\r\n                <div>{u.name}</div>\r\n                <div>{u.status}</div>\r\n              </span>\r\n\r\n              <span>\r\n                <div>{'u.location.country'}</div>\r\n                <div>{'u.location.cityName'}</div>\r\n              </span>\r\n            </span>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {RootReduxState} from 'src/Redux/redux-store';\r\nimport {createSelector} from 'reselect';\r\n\r\nexport const getUsersSelector = (state: RootReduxState) => {\r\n  return state.usersComponent.users;\r\n};\r\n\r\n// selector from reselect library, with getUsersSelector dependence\r\n// if getUsersSelector returns the same primitive or the same link of object\r\n// selector getUsers use hashed data and no uses\r\n\r\n// fake example with filter, but here can be difficult logic\r\n// and we cashed returned value\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter(user => true);\r\n});\r\n\r\nexport const getToggleFollowingProcessArraySelector = (state: RootReduxState) => {\r\n  return state.usersComponent.toggleFollowingProcessArray;\r\n};\r\n\r\nexport const getToggleFollowingProcessArray = createSelector(getToggleFollowingProcessArraySelector, (progressFollowingArray) => {\r\n  return progressFollowingArray.filter(item => true);\r\n});\r\n\r\nexport const getPageSize = (state: RootReduxState) => {\r\n  return state.usersComponent.pageSize;\r\n};\r\n\r\nexport const getTotalUserCount = (state: RootReduxState) => {\r\n  return state.usersComponent.totalUserCount;\r\n};\r\n\r\nexport const getCurrentPage = (state: RootReduxState) => {\r\n  return state.usersComponent.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state: RootReduxState) => {\r\n  return state.usersComponent.isFetching;\r\n};\r\n","import React from 'react';\nimport { RootReduxState } from 'src/Redux/redux-store';\nimport { connect } from 'react-redux';\nimport {\n  fetchUsers,\n  followUserThunk,\n  setCurrentPage,\n  unfollowUserThunk,\n  UserType,\n} from 'src/Redux/usersReducer';\nimport Users from './Users';\nimport { Preloader } from 'src/Common/Preloader/Preloader';\nimport {\n  getCurrentPage,\n  getIsFetching,\n  getPageSize,\n  getToggleFollowingProcessArray,\n  getTotalUserCount,\n  getUsers,\n} from 'src/Redux/users-selectors';\n\ntype mapStateToPropsType = {\n  users: Array<UserType>;\n  pageSize: number;\n  totalUserCount: number;\n  currentPage: number;\n  isFetching: boolean;\n  toggleFollowingProcessArray: [] | number[];\n};\n// работает сто старым вариантом mapDispatchToProps\n/*type mapDispatchToPropsType = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    setUsers: (users: UserType[]) => void\n    setCurrentPage: (currentPage: number) => void\n    setTotalCountUsers: (totalCountUsers: number) => void\n    setToggleIsFetching: (isFetching: boolean) => void\n}*/\n\nexport type UsersPropsType = {\n  users: Array<UserType>;\n  pageSize: number;\n  totalUserCount: number;\n  currentPage: number;\n  isFetching: boolean;\n  toggleFollowingProcessArray: [] | number[];\n  fetchUsers: (currentPage: number, pageSize: number) => void;\n  unfollowUserThunk: (userId: number) => void;\n  followUserThunk: (userId: number) => void;\n  setCurrentPage: (currentPage: number) => void;\n};\n\nconst START_PAGE = 1;\n\nclass UsersComponent extends React.Component<UsersPropsType, {}> {\n  // закоментировал, что бы избавится от warnings\n  // это дефолтная фраза, которую можно не писать, если мы не добавляем в дефолтные пропсы чего-либо\n\n  // constructor(props: UsersPropsType) {\n  //     super(props)\n  // }\n\n  componentDidMount() {\n    this.props.fetchUsers(this.props.currentPage, this.props.pageSize);\n  }\n\n  onPageChanged = (currentPage: number) => {\n    this.props.fetchUsers(currentPage, this.props.pageSize);\n  };\n\n  componentWillUnmount() {\n    this.props.setCurrentPage(START_PAGE);\n  }\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          users={this.props.users}\n          totalUserCount={this.props.totalUserCount}\n          currentPage={this.props.currentPage}\n          pageSize={this.props.pageSize}\n          onPageChanged={this.onPageChanged}\n          toggleFollowingProcessArray={this.props.toggleFollowingProcessArray}\n          unfollowUserThunk={this.props.unfollowUserThunk}\n          followUserThunk={this.props.followUserThunk}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\n  return {\n    // users: getUsersSelector(state),\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUserCount: getTotalUserCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    toggleFollowingProcessArray: getToggleFollowingProcessArray(state),\n  };\n};\n\n// старый вариант mapDispatchToProps\n\n// let mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\n//     return {\n//         follow: (userId: number) => {\n//             dispatch(FollowAC(userId))\n//         },\n//         unfollow: (userId: number) => {\n//             dispatch(UnfollowAC(userId))\n//         },\n//         setUsers: (users: UserType[]) => {\n//             dispatch(SetUsersAC(users))\n//         },\n//         setCurrentPage: (currentPage: number) => {\n//             dispatch(SetCurrentPageAC(currentPage))\n//         },\n//         setTotalCountUsers: (totalCountUsers: number) => {\n//             dispatch(SetTotalCountUsersAC(totalCountUsers))\n//         },\n//         setToggleIsFetching: (isFetching: boolean) => {\n//             dispatch(SetToggleIsFetchingAC(isFetching))\n//         },\n//     }\n// }\n\nexport const UsersContainer = connect(mapStateToProps, {\n  fetchUsers,\n  unfollowUserThunk,\n  followUserThunk,\n  setCurrentPage,\n})(UsersComponent);\n","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './Components/Navbar/Navbar';\r\nimport {Route} from 'react-router-dom';\r\nimport News from './Components/News/News';\r\nimport Music from './Components/Music/Music';\r\nimport Settings from './Components/Settings/Settings';\r\nimport Login from './Components/Login/Login';\r\nimport {DialogsContainer} from './Components/Dialogs/DialogsContainer';\r\nimport {HeaderContainer} from './Components/Header/HeaderContainer';\r\nimport {ProfileContainer} from './Components/Profile/ProfileContainer';\r\nimport {UsersContainer} from './Components/Users/UsersContainer';\r\nimport {connect} from 'react-redux';\r\nimport {RootReduxState} from './Redux/redux-store';\r\nimport {appInitializing} from './Redux/appReducer';\r\nimport {Preloader} from './Common/Preloader/Preloader';\r\nimport {compose} from 'redux';\r\n\r\ntype AppPropsType = {\r\n  appInitializing: () => void\r\n  isInitialized: boolean\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n  isInitialized: boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType, {}> {\r\n\r\n  componentDidMount() {\r\n    this.props.appInitializing();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.isInitialized) {\r\n      return <div>\r\n        <Preloader/>\r\n      </div>;\r\n    }\r\n\r\n    return (\r\n      <div className='appWrapper'>\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n        <div className='appWrapperContent'>\r\n          <Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\r\n          <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\r\n          <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n          <Route path={'/news'} render={() => <News/>}/>\r\n          <Route path={'/music'} render={() => <Music/>}/>\r\n          <Route path={'/settings'} render={() => <Settings/>}/>\r\n          <Route path={'/login'} render={() => <Login/>}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n  return {\r\n    isInitialized: state.app.isInitialized,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {appInitializing})\r\n)(App);\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport 'src/index.css';\nimport { store } from 'src/Redux/redux-store';\nimport ReactDOM from 'react-dom';\nimport App from 'src/App';\nimport reportWebVitals from 'src/reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsPage\":\"Dialogs_dialogsPage__1kJxe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__3iHd7\",\"profilePhoto\":\"ProfileInfo_profilePhoto__B6ZW2\",\"changePhotoBlock\":\"ProfileInfo_changePhotoBlock__uGnnp\",\"changePhotoLabel\":\"ProfileInfo_changePhotoLabel__2Jw9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"ValidatedForm_formControl__24axH\",\"error\":\"ValidatedForm_error__3IiBp\"};"],"sourceRoot":""}