(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,n){e.exports={dialogsItem:"DialogsItem_dialogsItem__1t3dx",active:"DialogsItem_active__1CT8a"}},102:function(e,t,n){e.exports={header:"Header_header__3nyQM",loginBlock:"Header_loginBlock__10irf"}},144:function(e,t,n){e.exports={globalFormError:"LoginForm_globalFormError__1zfpt"}},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){e.exports={posts:"MyPosts_posts__1iiB5"}},148:function(e,t,n){e.exports={item:"Post_item__2qEqn"}},154:function(e,t,n){e.exports={avatar:"Users_avatar__2SGgL"}},155:function(e,t,n){e.exports={selected:"Paginator_selected__1rCUU"}},183:function(e,t,n){},26:function(e,t,n){e.exports={navbar:"Navbar_navbar__3nQea",item:"Navbar_item__1qPpV",active:"Navbar_active__2vavL"}},266:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=(n(183),n(16)),o=n(7),i=n(2),c="messages/ADD_NEW_MESSAGE",u={dialogs:[{id:1,name:"Nastya"},{id:2,name:"Gleb"},{id:3,name:"Anton"},{id:4,name:"Denis"},{id:5,name:"Kostya"}],messages:[{id:1,message:"Hello, my name is Ilya"},{id:2,message:"I am fine"},{id:3,message:"Yo"}]};var l=n(6),j=n.n(l),d=n(17),p=n(141),h=n.n(p).a.create({withCredentials:!0,headers:{"API-KEY":"57c1b71f-e799-4641-88c4-164710395dd0"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),f=function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},b=function(){return h.get("auth/me").then((function(e){return e.data}))},O=function(e,t,n){return h.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},g=function(){return h.delete("auth/login").then((function(e){return e.data}))},m={followUser:function(e){return h.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return h.delete("follow/".concat(e)).then((function(e){return e.data}))}},v=function(e){return h.get("profile/".concat(e)).then((function(e){return e.data}))},x=function(e){return h.get("profile/status/".concat(e)).then((function(e){return e.data}))},A=function(e){return h.put("profile/status",{status:e}).then((function(e){return e.data}))},C=function(e){var t=new FormData;t.append("image",e);return h.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data}))},y="profile/ADD_NEW_POST",P="profile/SET_USERS_PROFILE",I="profile/SET_PROFILE_STATUS",w="profile/DELETE_POST",k="profile/CHANGE_PROFILE_PHOTO",S={posts:[{id:1,message:"Hello, my name is Ilya",likesCount:34},{id:2,message:"Hey, it is my second post",likesCount:12},{id:3,message:"Sorry for my english",likesCount:105},{id:4,message:"I love your likes",likesCount:65}],profile:null,status:""};function N(e){return{type:I,status:e}}var E=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},F="users/FOLLOW",Q="users/UNFOLLOW",U="users/SET_USERS",B="users/SET_CURRENT_PAGE",T="users/SET_TOTAL_COUNT_USERS",R="users/TOGGLE_IS_FETCHING",K="users/TOGGLE_FOLLOWING_IN_PROCESS",H={users:[],pageSize:100,totalUserCount:0,currentPage:1,isFetching:!0,toggleFollowingProcessArray:[]};function V(e){return{type:F,userId:e}}function q(e){return{type:Q,userId:e}}function z(e){return{type:B,currentPage:e}}function J(e){return{type:R,isFetching:e}}function D(e,t){return{type:K,isFollowingInProcess:e,userId:t}}var M=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(D(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),L=n(48),G="auth/SET_USER_DATA",_={id:null,email:null,login:null,isAuth:!1};function W(e,t,n,r){return{type:G,data:{id:e,email:t,login:n,isAuth:r}}}var Y=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,s,a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,a=r.email,o=r.login,t(W(s,a,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=n(142),X=n(140),$="app/INITIALIZED_SUCCESS",ee={isInitialized:!1};var te=Object(a.c)({profileComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n={id:5,message:t.post,likesCount:17};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[n])});case P:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case I:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case w:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case k:return Object(i.a)(Object(i.a)({},e),{},{profile:null!==e.profile?Object(i.a)(Object(i.a)({},e.profile),{},{photos:Object(i.a)({},t.profilePhotos)}):null});default:return e}},dialogComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.message;return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),[{id:5,message:n}])});default:return e}},usersComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(i.a)(Object(i.a)({},e),{},{users:E(e.users,t.userId,"id",{followed:!0})});case Q:return Object(i.a)(Object(i.a)({},e),{},{users:E(e.users,t.userId,"id",{followed:!1})});case U:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case B:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case T:return Object(i.a)(Object(i.a)({},e),{},{totalUserCount:t.totalCountUsers});case R:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case K:return Object(i.a)(Object(i.a)({},e),{},{toggleFollowingProcessArray:t.isFollowingInProcess?[].concat(Object(o.a)(e.toggleFollowingProcessArray),[t.userId]):e.toggleFollowingProcessArray.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(i.a)(Object(i.a)({},e),t.data);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(i.a)(Object(i.a)({},e),{},{isInitialized:!0});default:return e}},form:X.a}),ne=Object(a.e)(te,Object(a.a)(Z.a));window.store=ne;var re=n(72),se=n.n(re),ae=n(9),oe=n(10),ie=n(13),ce=n(14),ue=(n(266),n(20)),le=n(26),je=n.n(le),de=n(0);var pe=function(){return Object(de.jsxs)("nav",{className:je.a.navbar,children:[Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/profile",activeClassName:je.a.active,children:"Profile"})}),Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/dialogs",activeClassName:je.a.active,children:"Dialogs"})}),Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/users",activeClassName:je.a.active,children:"Users"})}),Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/news",activeClassName:je.a.active,children:"News"})}),Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/music",activeClassName:je.a.active,children:"Music"})}),Object(de.jsx)("div",{className:je.a.item,children:Object(de.jsx)(ue.b,{to:"/settings",activeClassName:je.a.active,children:"Settings"})})]})},he=n(19);var fe=function(){return Object(de.jsx)("div",{children:"News"})};var be=function(){return Object(de.jsx)("div",{children:"Music"})};var Oe=function(){return Object(de.jsx)("div",{children:"Settings"})},ge=n(138),me=n(139),ve=n(24),xe=n(99),Ae=n.n(xe),Ce=function(e){e.input;var t=e.meta,n=e.children,r=(Object(ve.a)(e,["input","meta","children"]),t.error&&t.touched);return Object(de.jsxs)("div",{className:"".concat(Ae.a.formControl," ").concat(r?Ae.a.error:""),children:[Object(de.jsx)("div",{children:n}),Object(de.jsx)("div",{children:r&&Object(de.jsx)("span",{children:t.error})})]})},ye=function(e){var t=e.input,n=(e.meta,e.children,Object(ve.a)(e,["input","meta","children"]));return Object(de.jsx)(Ce,Object(i.a)(Object(i.a)({},e),{},{children:Object(de.jsx)("input",Object(i.a)(Object(i.a)({},t),n))}))},Pe=function(e){var t=e.input,n=(e.meta,e.children,Object(ve.a)(e,["input","meta","children"]));return Object(de.jsx)(Ce,Object(i.a)(Object(i.a)({},e),{},{children:Object(de.jsx)("textarea",Object(i.a)(Object(i.a)({},t),n))}))},Ie=function(e){if(!e)return"Field is required"},we=function(e){return function(t){if(t.length&&t.length>e)return"Max length is ".concat(e," symbols")}},ke=n(144),Se=n.n(ke),Ne=we(30),Ee=Object(me.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(de.jsx)("div",{children:Object(de.jsxs)("form",{onSubmit:t,children:[Object(de.jsx)("div",{children:Object(de.jsx)(ge.a,{component:ye,validate:[Ie,Ne],name:"login",placeholder:"login"})}),Object(de.jsx)("div",{children:Object(de.jsx)(ge.a,{component:ye,validate:[Ie,Ne],name:"password",type:"password",placeholder:"password"})}),Object(de.jsxs)("div",{children:[Object(de.jsx)(ge.a,{component:ye,name:"rememberMe",type:"checkbox"}),"remember me"]}),Object(de.jsx)("div",{children:n&&Object(de.jsx)("span",{className:Se.a.globalFormError,children:n})}),Object(de.jsx)("div",{children:Object(de.jsx)("button",{children:" Login"})})]})})})),Fe=n(18);var Qe=Object(Fe.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(d.a)(j.a.mark((function r(s){var a,o;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(e,t,n);case 2:0===(a=r.sent).resultCode?s(Y()):(o=a.messages.length>0?a.messages[0]:"Some error",s(Object(L.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(de.jsx)(he.a,{to:"/profile"}):Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{children:Object(de.jsx)("h1",{children:"login"})}),Object(de.jsx)(Ee,{onSubmit:function(t){var n=t.login,r=t.password,s=t.rememberMe,a=void 0!==s&&s;e.login(n,r,a)}})]})})),Ue=n(78),Be=n.n(Ue),Te=n(101),Re=n.n(Te);var Ke=function(e){var t="/dialogs/"+e.id;return Object(de.jsx)("div",{className:Re.a.dialogsItem,children:Object(de.jsx)(ue.b,{to:t,activeClassName:Re.a.active,children:e.name})})},He=n(145),Ve=n.n(He);var qe=function(e){return Object(de.jsx)("div",{className:Ve.a.messageItem,children:e.message})},ze=we(30),Je=Object(me.a)({form:"dialogs"})((function(e){return Object(de.jsx)("div",{children:Object(de.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(de.jsx)("div",{children:Object(de.jsx)(ge.a,{component:Pe,validate:[Ie,ze],name:"message",placeholder:"Add message"})}),Object(de.jsx)("div",{children:Object(de.jsx)("button",{children:" Add message"})})]})})}));var De=function(e){var t=e.dialogsState.dialogs,n=e.dialogsState.messages,r=t.map((function(e){return Object(de.jsx)(Ke,{id:e.id,name:e.name},e.id)})),s=n.map((function(e){return Object(de.jsx)(qe,{message:e.message},e.id)}));return Object(de.jsxs)("div",{className:Be.a.dialogsPage,children:[Object(de.jsx)("div",{className:Be.a.dialogs,children:r}),Object(de.jsxs)("div",{className:Be.a.message,children:[Object(de.jsx)(Je,{onSubmit:function(t){e.addMessage(t.message)}}),s]})]})},Me=function(e){return{isAuth:e.auth.isAuth}};var Le=Object(a.d)((function(e){var t=function(t){Object(ie.a)(r,t);var n=Object(ce.a)(r);function r(){return Object(ae.a)(this,r),n.apply(this,arguments)}return Object(oe.a)(r,[{key:"render",value:function(){var t=this.props,n=t.isAuth,r=Object(ve.a)(t,["isAuth"]);return n?Object(de.jsx)(e,Object(i.a)({},r)):Object(de.jsx)(he.a,{to:"/login"})}}]),r}(s.a.Component);return Object(Fe.b)(Me)(t)}),Object(Fe.b)((function(e){return{dialogsState:e.dialogComponent}}),{addMessage:function(e){return{type:c,message:e}}}))(De),Ge=n(102),_e=n.n(Ge);function We(e){return Object(de.jsxs)("header",{className:_e.a.header,children:[Object(de.jsx)("img",{src:"https://cdn.logo.com/hotlink-ok/logo-social.png",alt:"logo"}),Object(de.jsx)("span",{className:_e.a.loginBlock,children:e.auth?Object(de.jsx)(Ye,{login:e.login,logout:e.logout}):Object(de.jsx)(ue.b,{to:"/login",children:" Login "})})]})}function Ye(e){return Object(de.jsxs)("div",{children:[Object(de.jsx)("span",{children:e.login}),Object(de.jsx)("button",{onClick:function(){return e.logout()},children:"Logout"})]})}var Ze=function(e){Object(ie.a)(n,e);var t=Object(ce.a)(n);function n(){return Object(ae.a)(this,n),t.apply(this,arguments)}return Object(oe.a)(n,[{key:"render",value:function(){return Object(de.jsx)(We,Object(i.a)({},this.props))}}]),n}(s.a.Component),Xe=Object(Fe.b)((function(e){return{login:e.auth.login,auth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===e.sent.resultCode&&t(W(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ze),$e=n(146),et=n.n($e),tt=n(147),nt=n.n(tt),rt=we(10),st=Object(me.a)({form:"posts"})((function(e){return Object(de.jsx)("div",{children:Object(de.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(de.jsx)("div",{children:Object(de.jsx)(ge.a,{component:Pe,name:"myPosts",validate:[Ie,rt],placeholder:"Enter your post"})}),Object(de.jsx)("div",{children:Object(de.jsx)("button",{children:" Add post"})})]})})})),at=n(148),ot=n.n(at);var it=function(e){return Object(de.jsxs)("div",{className:ot.a.item,children:[Object(de.jsx)("img",{src:"https://avatarko.ru/img/kartinka/2/Gubka_Bob.jpg",alt:""}),e.message,Object(de.jsx)("div",{children:Object(de.jsxs)("span",{children:[e.likesCount," likes"]})})]})};var ct=function(e){var t=e.posts.map((function(e){return Object(de.jsx)(it,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(de.jsxs)("div",{children:["My posts",Object(de.jsx)(st,{onSubmit:function(t){e.addPost(t.myPosts)}}),Object(de.jsx)("div",{className:nt.a.posts,children:t})]})},ut=Object(Fe.b)((function(e){return{posts:e.profileComponent.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:y,post:e}}(t))}}}))(ct),lt=n(23),jt=n.p+"static/media/preloader.7aee2325.svg";function dt(){return Object(de.jsx)("img",{src:jt,alt:"sorry, we have some troubles"})}var pt=n(79),ht=n.n(pt),ft=function(e){Object(ie.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.profileStatus},e.onEditMode=function(){e.props.isOwner&&e.setState({editMode:!0})},e.offEditMode=function(){e.setState({editMode:!1}),e.props.updateProfileStatusThunk(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(oe.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.profileStatus!==this.props.profileStatus&&this.setState({status:this.props.profileStatus})}},{key:"render",value:function(){return Object(de.jsx)("div",{children:this.state.editMode?Object(de.jsx)("div",{children:Object(de.jsx)("input",{autoFocus:!0,onBlur:this.offEditMode,type:"text",onChange:this.onChangeStatus,value:this.state.status})}):Object(de.jsx)("div",{children:Object(de.jsx)("span",{onDoubleClick:this.onEditMode,children:this.props.profileStatus||"-----"})})})}}]),n}(s.a.Component),bt="data:image/jpeg;base64,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",Ot=n.p+"static/media/camera.4cfec1f9.svg",gt=function(e){var t=e.profile,n=e.editModeHandle,r=e.isOwner;return Object(de.jsxs)("div",{children:[r&&Object(de.jsx)("button",{onClick:n,children:"Change profile"}),Object(de.jsx)(Nt,{property:"about me",value:t.aboutMe}),Object(de.jsx)(Nt,{property:"fullName",value:t.fullName}),Object(de.jsx)(Nt,{property:"looking for a job",value:t.lookingForAJob?"Yes":"No"}),Object(de.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(de.jsx)(Nt,{property:e,value:t.contacts[e]},e)}))})]})},mt=n(32),vt=n(149),xt=n.n(vt),At=Object(r.forwardRef)((function(e,t){var n=e.id,r=e.name,s=e.label,a=e.type,o=void 0===a?"text":a,c=(e.className,e.placeholder),u=Object(ve.a)(e,["id","name","label","type","className","placeholder"]);return console.log("id",n),console.log("name",r),console.log("label",s),console.log("type",o),console.log("other props",Object(i.a)({},u)),Object(de.jsx)("input",Object(i.a)({id:n,ref:t,name:r,type:o,"aria-label":s,placeholder:c},u))})),Ct=n(150),yt=function(e){var t=e.className,n=e.name,r=e.register,s=e.rules,a=e.errors,o=Object(ve.a)(e,["className","name","register","rules","errors"]);xt()(a,n);return Object(de.jsxs)("div",{className:t,"aria-live":"polite",children:[Object(de.jsx)(At,Object(i.a)(Object(i.a)({name:n},o),r&&r(n,s))),Object(de.jsx)(Ct.a,{errors:a,name:n,render:function(e){var t=e.message;return Object(de.jsx)("p",{children:t})}})]})},Pt=n(104),It=Pt.a().shape({firstName:Pt.b().required("First Name is required").min(6,"First Name must be at least 6 characters")}),wt=n(156),kt=function(e){e.profile,e.isOwner;var t=e.editModeOff,n=Object(mt.d)({resolver:Object(wt.a)(It)}),r=n.register,s=n.handleSubmit,a=n.formState.errors,o=s((function(e){console.log("submitting..."),console.log("data",e),t()}));return Object(de.jsxs)("form",{onSubmit:o,children:[Object(de.jsx)(yt,{id:"firstName",type:"text",name:"firstName",label:"First Name",placeholder:"First Name",className:"mb-2",register:r,errors:a}),Object(de.jsx)("button",{className:"some",type:"submit",children:"Submit"})]})},St=function(e){var t=e.profile,n=e.profileStatus,s=e.updateProfileStatusThunk,a=e.updateProfilePhotoThunk,o=e.isOwner,i=Object(r.useState)(!1),c=Object(lt.a)(i,2),u=c[0],l=c[1];if(!t)return Object(de.jsx)(dt,{});return Object(de.jsxs)("div",{children:[Object(de.jsx)(ft,{updateProfileStatusThunk:s,profileStatus:n,isOwner:o}),Object(de.jsxs)("div",{children:[Object(de.jsx)("img",{className:ht.a.profilePhoto,src:(null===t||void 0===t?void 0:t.photos.large)?t.photos.large:bt,alt:"Profile"}),o&&Object(de.jsx)("div",{className:ht.a.changePhotoBlock,children:Object(de.jsxs)("label",{className:ht.a.changePhotoLabel,children:["Change profile photo",Object(de.jsx)("img",{src:Ot,alt:""}),Object(de.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&a(n)}})]})}),u?Object(de.jsx)(kt,{editModeOff:function(){l(!1)},profile:t,isOwner:o}):Object(de.jsx)(gt,{profile:t,editModeHandle:function(){l(!0)},isOwner:o})]})]})},Nt=function(e){var t=e.property,n=e.value;return Object(de.jsxs)("div",{children:[Object(de.jsxs)("b",{children:[t,": "]})," ",n]})},Et=function(e){var t=e.profile,n=e.profileStatus,r=e.updateProfilePhotoThunk,s=e.updateProfileStatusThunk,a=e.isOwner;return Object(de.jsxs)("div",{className:et.a.content,children:[Object(de.jsx)(St,{updateProfileStatusThunk:s,updateProfilePhotoThunk:r,profileStatus:n,profile:t,isOwner:a}),Object(de.jsx)(ut,{})]})},Ft=function(e){Object(ie.a)(n,e);var t=Object(ce.a)(n);function n(){return Object(ae.a)(this,n),t.apply(this,arguments)}return Object(oe.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId?Number(this.props.match.params.userId):null;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getProfileStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(de.jsx)(Et,{profile:this.props.profile,updateProfileStatusThunk:this.props.updateProfileStatusThunk,updateProfilePhotoThunk:this.props.updateProfilePhotoThunk,profileStatus:this.props.profileStatus,isOwner:!this.props.match.params.userId})}}]),n}(s.a.Component),Qt=Object(a.d)(Object(Fe.b)((function(e){return{profile:e.profileComponent.profile,profileStatus:e.profileComponent.status,userId:e.auth.id}}),{getUserProfileThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:r=t.sent,n({type:P,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatusThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:r=t.sent,n(N(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatusThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:0===t.sent.resultCode&&n(N(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfilePhotoThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===(r=t.sent).resultCode&&n((s=r.data.photos,{type:k,profilePhotos:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}}),he.f)(Ft),Ut=n(154),Bt=n.n(Ut),Tt=n(155),Rt=n.n(Tt),Kt=function(e){for(var t=e.totalUserCount,n=e.pageSize,s=e.currentPage,a=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var j=Object(r.useState)(1),d=Object(lt.a)(j,2),p=d[0],h=d[1],f=Math.ceil(c/i),b=(p-1)*i+1,O=p*i;return Object(de.jsxs)("div",{children:[p>1&&Object(de.jsx)("button",{onClick:function(){return h(p-1)},children:"Prev"}),u.filter((function(e){return e>=b&&e<=O})).map((function(e,t){return Object(de.jsxs)("span",{className:s===e?Rt.a.selected:"",onClick:function(){a(e)},children:[" ",e," "]},t)})),p<f&&Object(de.jsx)("button",{onClick:function(){return h(p+1)},children:"Next"})]})},Ht=function(e){var t=e.totalUserCount,n=e.currentPage,r=e.pageSize,s=e.users,a=e.toggleFollowingProcessArray,o=e.followUserThunk,i=e.unfollowUserThunk,c=e.onPageChanged;return Object(de.jsxs)("div",{children:[Object(de.jsx)(Kt,{totalUserCount:t,currentPage:n,pageSize:r,onPageChanged:c,portionSize:10}),s.map((function(e){return Object(de.jsxs)("div",{children:[Object(de.jsxs)("span",{children:[Object(de.jsx)("div",{children:Object(de.jsx)(ue.b,{to:"/profile/"+e.id,children:Object(de.jsx)("img",{className:Bt.a.avatar,src:e.photos.small?e.photos.small:bt,alt:"sorry, we have some troubles"})})}),Object(de.jsx)("div",{children:e.followed?Object(de.jsxs)("button",{disabled:a.some((function(t){return t===e.id})),onClick:function(){return i(e.id)},children:[" ","Unfollow"," "]}):Object(de.jsxs)("button",{disabled:a.some((function(t){return t===e.id})),onClick:function(){return o(e.id)},children:[" ","Follow"," "]})})]}),Object(de.jsxs)("span",{children:[Object(de.jsxs)("span",{children:[Object(de.jsx)("div",{children:e.name}),Object(de.jsx)("div",{children:e.status})]}),Object(de.jsxs)("span",{children:[Object(de.jsx)("div",{children:"u.location.country"}),Object(de.jsx)("div",{children:"u.location.cityName"})]})]})]},e.id)}))]})},Vt=n(105),qt=Object(Vt.a)((function(e){return e.usersComponent.users}),(function(e){return e.filter((function(e){return!0}))})),zt=Object(Vt.a)((function(e){return e.usersComponent.toggleFollowingProcessArray}),(function(e){return e.filter((function(e){return!0}))})),Jt=function(e){return e.usersComponent.pageSize},Dt=function(e){return e.usersComponent.totalUserCount},Mt=function(e){return e.usersComponent.currentPage},Lt=function(e){return e.usersComponent.isFetching},Gt=function(e){Object(ie.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.fetchUsers(t,e.props.pageSize)},e}return Object(oe.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUsers(this.props.currentPage,this.props.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.setCurrentPage(1)}},{key:"render",value:function(){return Object(de.jsxs)(de.Fragment,{children:[this.props.isFetching?Object(de.jsx)(dt,{}):null,Object(de.jsx)(Ht,{users:this.props.users,totalUserCount:this.props.totalUserCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,toggleFollowingProcessArray:this.props.toggleFollowingProcessArray,unfollowUserThunk:this.props.unfollowUserThunk,followUserThunk:this.props.followUserThunk})]})}}]),n}(s.a.Component),_t=Object(Fe.b)((function(e){return{users:qt(e),pageSize:Jt(e),totalUserCount:Dt(e),currentPage:Mt(e),isFetching:Lt(e),toggleFollowingProcessArray:zt(e)}}),{fetchUsers:function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(r){var s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J(!0)),r(z(e)),n.next=4,f(e,t);case 4:s=n.sent,r((o=s.items,{type:U,users:o})),r((a=s.totalCount,{type:T,totalCountUsers:a})),r(J(!1));case 8:case"end":return n.stop()}var a,o}),n)})));return function(e){return n.apply(this,arguments)}}()},unfollowUserThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=m.unfollowUser.bind(m),M(n,e,r,q);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followUserThunk:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=m.followUser.bind(m),M(n,e,r,V);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:z})(Gt),Wt=function(e){Object(ie.a)(n,e);var t=Object(ce.a)(n);function n(){return Object(ae.a)(this,n),t.apply(this,arguments)}return Object(oe.a)(n,[{key:"componentDidMount",value:function(){this.props.appInitializing()}},{key:"render",value:function(){return this.props.isInitialized?Object(de.jsxs)("div",{className:"appWrapper",children:[Object(de.jsx)(Xe,{}),Object(de.jsx)(pe,{}),Object(de.jsxs)("div",{className:"appWrapperContent",children:[Object(de.jsx)(he.b,{path:"/profile/:userId?",render:function(){return Object(de.jsx)(Qt,{})}}),Object(de.jsx)(he.b,{path:"/dialogs",render:function(){return Object(de.jsx)(Le,{})}}),Object(de.jsx)(he.b,{path:"/users",render:function(){return Object(de.jsx)(_t,{})}}),Object(de.jsx)(he.b,{path:"/news",render:function(){return Object(de.jsx)(fe,{})}}),Object(de.jsx)(he.b,{path:"/music",render:function(){return Object(de.jsx)(be,{})}}),Object(de.jsx)(he.b,{path:"/settings",render:function(){return Object(de.jsx)(Oe,{})}}),Object(de.jsx)(he.b,{path:"/login",render:function(){return Object(de.jsx)(Qe,{})}})]})]}):Object(de.jsx)("div",{children:Object(de.jsx)(dt,{})})}}]),n}(s.a.Component),Yt=Object(a.d)(Object(Fe.b)((function(e){return{isInitialized:e.app.isInitialized}}),{appInitializing:function(){return function(e){e(Y()).then((function(){return e({type:$})}))}}}))(Wt),Zt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,326)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),a(e),o(e)}))};se.a.render(Object(de.jsx)(ue.a,{children:Object(de.jsx)(Fe.a,{store:ne,children:Object(de.jsx)(Yt,{})})}),document.getElementById("root")),Zt()},78:function(e,t,n){e.exports={dialogsPage:"Dialogs_dialogsPage__1kJxe"}},79:function(e,t,n){e.exports={content:"ProfileInfo_content__3iHd7",profilePhoto:"ProfileInfo_profilePhoto__B6ZW2",changePhotoBlock:"ProfileInfo_changePhotoBlock__uGnnp",changePhotoLabel:"ProfileInfo_changePhotoLabel__2Jw9g"}},99:function(e,t,n){e.exports={formControl:"ValidatedForm_formControl__24axH",error:"ValidatedForm_error__3IiBp"}}},[[325,1,2]]]);
//# sourceMappingURL=main.3f188e33.chunk.js.map